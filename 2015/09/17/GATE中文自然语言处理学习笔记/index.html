<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"geosmart.github.io","root":"/","scheme":"Pisces","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="GATE GATE(文本工程通用框架)项目开始于 1995 年英国的谢菲尔德大学.经历了近 20 年的不断发展，GATE 已经被应用于广泛的研究和项目开发。     GATE 框架采用了基于组件的软件开发方式和面向对象的灵活编程。 GATE 框架是由纯 Java 语言开发的免费开源软件，遵循 GNU library license。 GATE 使用的编码方式是Unicode，可以支持多种语言编码">
<meta property="og:type" content="article">
<meta property="og:title" content="GATE中文自然语言处理学习笔记">
<meta property="og:url" content="http://geosmart.github.io/2015/09/17/GATE%E4%B8%AD%E6%96%87%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="geosmart.io">
<meta property="og:description" content="GATE GATE(文本工程通用框架)项目开始于 1995 年英国的谢菲尔德大学.经历了近 20 年的不断发展，GATE 已经被应用于广泛的研究和项目开发。     GATE 框架采用了基于组件的软件开发方式和面向对象的灵活编程。 GATE 框架是由纯 Java 语言开发的免费开源软件，遵循 GNU library license。 GATE 使用的编码方式是Unicode，可以支持多种语言编码">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gate.ac.uk/plugins/gau-0.1/images/logo-gate.png">
<meta property="og:image" content="http://geosmart.github.io/2015/09/17/GATE%E4%B8%AD%E6%96%87%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/GATEFrame.png">
<meta property="article:published_time" content="2015-09-17T03:28:20.000Z">
<meta property="article:modified_time" content="2021-12-15T01:13:12.811Z">
<meta property="article:author" content="geosmart">
<meta property="article:tag" content="NLP">
<meta property="article:tag" content="GATE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gate.ac.uk/plugins/gau-0.1/images/logo-gate.png">

<link rel="canonical" href="http://geosmart.github.io/2015/09/17/GATE%E4%B8%AD%E6%96%87%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>GATE中文自然语言处理学习笔记 | geosmart.io</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">geosmart.io</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">勿助勿忘，深造自得</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/geosmart" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://geosmart.github.io/2015/09/17/GATE%E4%B8%AD%E6%96%87%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="geosmart">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="geosmart.io">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          GATE中文自然语言处理学习笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：17   九月   2015 11:28:20" itemprop="dateCreated datePublished" datetime="2015-09-17T11:28:20+08:00">17   九月   2015</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：15   十二月   2021 9:13:12" itemprop="dateModified" datetime="2021-12-15T09:13:12+08:00">15   十二月   2021</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://gate.ac.uk/plugins/gau-0.1/images/logo-gate.png" alt=""></p>
<h1 id="GATE"><a href="#GATE" class="headerlink" title="GATE"></a>GATE</h1><blockquote>
<p>GATE(文本工程通用框架)项目开始于 1995 年英国的谢菲尔德大学.经历了近 20 年的不断发展，GATE 已经被应用于广泛的研究和项目开发。  </p>
</blockquote>
<ul>
<li>GATE 框架采用了基于组件的软件开发方式和面向对象的灵活编程。</li>
<li>GATE 框架是由纯 Java 语言开发的免费开源软件，遵循 GNU library license。</li>
<li>GATE 使用的编码方式是Unicode，可以支持多种语言编码，并且针对各种斯拉夫语言、日尔曼语言、拉丁系语言和印度语做过系统测试。</li>
<li>GATE 支持的文档类型包括 XML、RTF、Email、HTML、SGML以及纯文本文件。</li>
<li>GATE 作为一个框架，规定其框架内所有的自然语言处理软件系统元素都可以有效的被细分成不同的几种组件，在 GATE 中它们被称为资源。在 GATE 框架下组件的集合被称为 CREOLE。CREOLE 组件是通过 Java Beans 的形式来实现的，CREOLE 在 GATE中分为三种形式：语言组件（LR），处理组件(PR)和可视化组件(VR)。</li>
</ul>
<hr>
<a id="more"></a>
<h2 id="GATE资源："><a href="#GATE资源：" class="headerlink" title="GATE资源："></a>GATE资源：</h2><blockquote>
<p><a href="http://gatechinese.com/blog/category/gate%E4%B8%AD%E6%96%87%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/">GATE中文自然语言处理</a></p>
</blockquote>
<p><img src="GATEFrame.png" alt="GATE框架"></p>
<h1 id="Pipeline"><a href="#Pipeline" class="headerlink" title="Pipeline"></a>Pipeline</h1><h2 id="CorpusController"><a href="#CorpusController" class="headerlink" title="CorpusController"></a>CorpusController</h2><h2 id="RealtimeCorpusController"><a href="#RealtimeCorpusController" class="headerlink" title="RealtimeCorpusController"></a>RealtimeCorpusController</h2><h2 id="SerialAnalyserController"><a href="#SerialAnalyserController" class="headerlink" title="SerialAnalyserController"></a>SerialAnalyserController</h2><h1 id="Gazetteer"><a href="#Gazetteer" class="headerlink" title="Gazetteer"></a>Gazetteer</h1><p>词典库（Gazetteer）由一组词典列表组成，列表包含实体名称如城市，组织机构，星期等。列表用于发现文本中包含这些名称的文档和命名实体识别。通常词“词典库”可交替地用于实体列表集合，并利用这些列表发现文本中出现这些名称的处理资源。<br>当词典库PR在一个文件上运行时，每个匹配的文本字符串创建一个标注类型Lookup。词典库通常不依靠Token或任何其它标注，而是基于文档的字词内容发现相匹配的字符串。这意味着一个条目可以跨越多个词，也可以把开始和结束作为一个词。<br>如果一个词典库正工作的文本恰好满足词语边界，则词典发现词语边界的方法不同于GATE tokeniser发现词语边界的方法。如果文本中所有词典实体匹配好了，则创建一个Lookup标注。<br>词典库实体怎样匹配文本的细节取决于词典库处理资源及其参数。  </p>
<h2 id="Gazetteer生效机制"><a href="#Gazetteer生效机制" class="headerlink" title="Gazetteer生效机制"></a>Gazetteer生效机制</h2><p>入口:list.def<br>gazetteer： xx.lst<br>格式：<code>gazetteerFileName:marjorType:minorType</code></p>
<h2 id="ANNIE词典库"><a href="#ANNIE词典库" class="headerlink" title="ANNIE词典库"></a>ANNIE词典库</h2><p>ANNIE词典库是由ANNIE插件提供的。每个独立的词典都是一个普通的文本文件，每行一个条目。</p>
<h2 id="GAZE词典库"><a href="#GAZE词典库" class="headerlink" title="GAZE词典库"></a>GAZE词典库</h2><p>Gaze是一个编辑词典列表，定义词典和把词典映射到本体的工具。即适用于Plain/Linear 词典（默认）、Hash词典库也适用于Ontology-enabled 词典 (Onto词典)。每当执行保存操作时，重新初始化词典PR关联的视图。注意GAZE不生产规模非常大的词典 (我们假设不浏览超过4000实体，不拷贝超过10000个实体)。</p>
<h2 id="Onto词典"><a href="#Onto词典" class="headerlink" title="Onto词典"></a>Onto词典</h2><p>Onto词典或者Hierarchical词典，是一个处理资源，能将特定词典列表的实体加入到GATE本体语言资源的类中。Onto词典指定类而不是主要或次要类型，意识到列表和类ID之间的映射关系。Gaze可视资源能显示列表，本体映射和本体类等级，也提供编辑这些内容的方法。</p>
<h2 id="Hash词典"><a href="#Hash词典" class="headerlink" title="Hash词典"></a>Hash词典</h2><p>Hash词典是<a href="http://www.ontotext.com/">OntoText Lab</a>完成的一个词典。它的实现基于几个java.util.HashMap对象简单的查找，并由Atanas Kiryakov的奇妙想法——在HashMaps的搜寻快于在有限状态机的搜寻而得到启发。Hash词典处理资源是ANNIE插件的一部分。<br>词典处理资源用以下方式实现：每个短语，即每一个列表条目被分割成几个部分，各部分取决于位于它们之间的空格，例如，短语：“form is emptiness”有三个部分：“form”， “is”和“emptiness”。也有一个HashMaps列表：mapsList和列表中最长的短语有同样多的元素。所以第一部分短语放在第一个映射。第一部分+空格+第二部分被放置在第二个映射等。完整的词组是放置在适当的映射，并引用一个查找对象是相连。</p>
<h2 id="Flexible词典"><a href="#Flexible词典" class="headerlink" title="Flexible词典"></a>Flexible词典</h2><p>Flexible词典提供用户灵活的弹性选择他们自己定制的输入和一个外部词典。例如，用户可能想将文本的词语替换成他们的基本形式(这是一种形态学分析仪的输出)或在运行词典之前分割中文文本(用中文Tokeniser)。<br>The Flexible 词典 performs lookup over a document based on the values of an arbitrary feature of an arbitrary annotation type, by using an externally provided 词典.使用外部词典是很重要的，这允许使用任何类型的词典(例如本体词典)。</p>
<h2 id="词典列表collection"><a href="#词典列表collection" class="headerlink" title="词典列表collection"></a>词典列表collection</h2><p>词典列表collection直接从一组标注的训练文本收集实体事件，构成有实体的词典列表。实体类型和词典列表的结构是由用户定义的。一旦列表collection，一个语义语法用于寻找新文本相同的实体。<br>如果没有列表存在，对于每个标注类型要先创建一个空列表。处理资源运行前，列表集必须加载到GATE。如果已有列表存在，列表只是简单的增加任何新实体。列表collection只收集每个实体的一个事件：在添加新的之前要先检查实体已经不存在。</p>
<h2 id="OntoRoot词典"><a href="#OntoRoot词典" class="headerlink" title="OntoRoot词典"></a>OntoRoot词典</h2><p>OntoRoot词典是一种动态创建的词典，即结合其他少量的通用Gate资源，对于给定的本体的内容产生基于本体的标注。这个词典是“Gazetteer_Ontology_Based”插件的一部分，已开发成为TAO项目的一部分。</p>
<h2 id="大型KB词典"><a href="#大型KB词典" class="headerlink" title="大型KB词典"></a>大型KB词典</h2><p>大型KB 词典为ontology-aware自然语言处理提供支持。你可以从RDF装载任何本体，然后使用词典获得lookup标注，标注有实例和类URI。<br>大型KB词典作为插件词典 LKB存在。<br>当前版本的大型KB  词典不使用GATE本体语言资源。相反，它使用自己的原理去加载处理本体。当前版本在不久的未来可能会显著改变。<br>大型KB 词典是从语义搜索平台Ontotext KIM中的一个组件学习起来的。这词典是由KIM发展团队开发的（见<a href="http://nmwiki.ontotext.com/lkb_Gazetteer/team-list.html）。在kim名称左边你可以找到源代码、资料/文件管理或源文件。">http://nmwiki.ontotext.com/lkb_Gazetteer/team-list.html）。在kim名称左边你可以找到源代码、资料/文件管理或源文件。</a></p>
<h1 id="JAPE"><a href="#JAPE" class="headerlink" title="JAPE"></a>JAPE</h1><p>JAPE 的全称是 a Java Annotation Patterns Engine，Java 标注模式引擎，<br>JAPE 提供了基于正规表达式的标注有限状态转换。JAPE 是通用模式定义语言 CPSL(Common Pattern Specification Language1)的一个版本。我们通过 JAPE 语言可以编写 GATE 能够识别的规则，通过这些规则来进行较准确的命名实体识别。</p>
<h2 id="grammer-jape"><a href="#grammer-jape" class="headerlink" title="grammer-jape"></a>grammer-jape</h2><p>入口：base.jape<br>MultiPhase:<br>Phases: 列表<br>jape：:xx.jape<br>示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//沿西部干线由南向北行驶至六合区程桥街道荷花社区方桥河桥路段</span></span><br><span class="line">Phase: spacepattern_path</span><br><span class="line">Input: Lookup  AtomToken Token Location</span><br><span class="line">Options: control = appelt  debug = <span class="literal">true</span></span><br><span class="line">Rule: path1</span><br><span class="line">Priority: <span class="number">4120</span></span><br><span class="line">(</span><br><span class="line">&#123;Lookup.majorType == sp_path,Lookup.minorType==prefix&#125;</span><br><span class="line">((&#123;AtomToken&#125;)[<span class="number">1</span>,<span class="number">30</span>]):context</span><br><span class="line">&#123;Lookup.majorType == sp_path,Lookup.minorType==suffix&#125;</span><br><span class="line">):path</span><br><span class="line">--&gt;</span><br><span class="line">:path.Path = &#123; type = Path, context = :context@string &#125;</span><br></pre></td></tr></table></figure>
<p>relationship如何构建？<br>annotation和entity的关系如何构建</p>
<h2 id="JAPE标注类型"><a href="#JAPE标注类型" class="headerlink" title="JAPE标注类型"></a>JAPE标注类型</h2><ul>
<li>Lookup：Annie默认标注结果  </li>
<li>Token：Lang_Chinese，最长分词，包含符号<br>用途：数字，附号标注  </li>
<li><p>IKAToken：IKanalyzer分词标注—-两两分词，不处理符号</p>
<ul>
<li>采用了特有的”正向迭代最细粒度切分算法”，具有80万字/秒的高速处理能力</li>
<li>采用了多子处理器分析模式，支持：英文字母（IP地址、Email、URL）、数字（日期，常用中文数量词，罗马数字，科学计数法），中文词汇（姓名、地名处理）等分词处理。</li>
<li>优化的词典存储，更小的内存占用。支持用户词典扩展定义</li>
<li>针对Lucene全文检索优化的查询分析器IKQueryParser；采用歧义分析算法优化查询关键字的搜索排列组合，能极大的提高Lucene检索的命中率。</li>
</ul>
</li>
<li><p>AtomToken：原子分词，最细颗粒度分词  </p>
</li>
</ul>
<h2 id="Tokeniser-Rules"><a href="#Tokeniser-Rules" class="headerlink" title="Tokeniser Rules"></a>Tokeniser Rules</h2><p>Tokeniser Rules标注解析器。根据数字、标点符号和单词将文本分解成不同的Token。目的是将标记解析效率最大化，并通过语法规则（Grammar rules）减轻负担以此提高标记解析工作的灵活性。<br>JAPE规则包括两部分，LHS和RHS，与LHS匹配上的标注集将会按照RHS的操作执行。</p>
<ul>
<li><p>LHS(left hand sode)包含正规表达式操作符（比如*, ?, +）的标注模式<br>  | 或者</p>
<ul>
<li>零次或者多次发生<br>? 零次或者一次发生</li>
</ul>
<ul>
<li>一次或者多次发生</li>
</ul>
</li>
<li><p>RHS(right hand side)包含了标注集操作描述，格式：<code>{LHS} &gt; {Annotation type};{attribute1}={value1};...;{attributen}={value n}</code></p>
</li>
</ul>
<h2 id="Token-Types"><a href="#Token-Types" class="headerlink" title="Token Types"></a>Token Types</h2><p>Word、Number、Symbol、Punctuation、SpaceToken</p>
<h2 id="JAPE优先级控制类型"><a href="#JAPE优先级控制类型" class="headerlink" title="JAPE优先级控制类型"></a>JAPE优先级控制类型</h2><ul>
<li>Brill:  Brill 默认的控制风格，作用是在给定的范围内对文档进行匹配并添加类型，当多个匹配规则都匹配到一个文本时默认都会把相应的类型添加上去，这些类型没有重要等级。</li>
<li>All: All 作用类似于Brill，但是All的匹配支持内嵌匹配</li>
<li>First First只匹配第一个匹配到的匹配规则并添加对应类型，所以此时使用’*’,’?’或’+’这类匹配规则是不恰当的</li>
<li>Once:  Once 一旦匹配到匹配规则，则整个JAPE解析直接退出</li>
<li>Appelt: Applet 根据优先规则，匹配唯一一个匹配规则</li>
</ul>
<h2 id="JAPE高亮插件"><a href="#JAPE高亮插件" class="headerlink" title="JAPE高亮插件"></a>JAPE高亮插件</h2><p>找到一个Linux平台的，gedit的插件：<a href="http://joenoodles.com/2012/10/jape-syntax-highlighting">jape-syntax-highlighting</a>，待尝试</p>
<p>当前处理方式</p>
<ol>
<li>myeclipse设置*.jape默认打开程序为sublime text<br><code>General&gt;Editors&gt;File Associations</code></li>
<li>在sublime text代开jape后缀文件，并将Syntax设置为open all with current extention as java</li>
<li>sublimet text3安装SublimeAStyleFormatter插件进行代码格式化<ul>
<li><code>ctrl+alt+f</code>: Format current file  </li>
<li><code>ctrl+k, ctrl+f</code>: Format current selection<br>TODO：暂不能自动格式化jape，和语法高亮报错</li>
</ul>
</li>
</ol>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h1 id="relationshioType的定义原理"><a href="#relationshioType的定义原理" class="headerlink" title="relationshioType的定义原理"></a>relationshioType的定义原理</h1><p>sentence（有限状态机）包含关系，根据实际情况定义<br>Temporal+SpacePattern(Region+Path)+person</p>
<h1 id="GATE在多线程中的配置"><a href="#GATE在多线程中的配置" class="headerlink" title="GATE在多线程中的配置"></a>GATE在多线程中的配置</h1><p><a href="https://gate.ac.uk/sale/tao/#x1-1760007.14">Using GATE Embedded in a Multithreaded Environment</a><br>All the standard ANNIE PRs are safe when independent instances are used in diﬀerent threads concurrently, as are the standard transient document, transient corpus and controller classes. A typical pattern of development for a multithreaded GATE-based application is:</p>
<pre><code>* Develop your GATE processing pipeline in GATE Developer.
* Save your pipeline as a .gapp ﬁle.
* In your application’s initialisation phase, load n copies of the pipeline using `PersistenceManager.loadObjectFromFile()` , or load the pipeline once and then make copies of it using `Factory.duplicate`, and either give one copy to each thread or store them in a pool (e.g. a LinkedList).
* When you need to process a text, get one copy of the pipeline from the pool, and return it to the pool when you have ﬁnished processing.
</code></pre><p>Alternatively you can use the Spring Framework as described in the next section to handle the pooling for you.</p>
<h2 id="Spring-pooling"><a href="#Spring-pooling" class="headerlink" title="Spring pooling"></a>Spring pooling</h2><p><a href="https://gist.github.com/geosmart/ee8ca82b03dfa10a2bdb58767060fa6f">Spring集成GATE池资源管理</a></p>
<h1 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h1><h2 id="spring集成开发的plugin如何在gate中运行"><a href="#spring集成开发的plugin如何在gate中运行" class="headerlink" title="spring集成开发的plugin如何在gate中运行"></a>spring集成开发的plugin如何在gate中运行</h2><p>由于插件最终需在gate框架中运行，建议以maven进行项目包/结构管理，fatjar编译打包；  </p>
<ul>
<li>参考Lang_Chinese插件修改gapp(根据creole.xml)，新增PR配置<br><a href="https://gate.ac.uk/sale/tao/splitch3.html">gapp参考</a><br>配置文件参考</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0"?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Geocoding 地址解析 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">CREOLE-DIRECTORY</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">JAR</span> <span class="attr">SCAN</span>=<span class="string">"true"</span>&gt;</span>gto.geocoding.jar<span class="tag">&lt;/<span class="name">JAR</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">JAR</span>&gt;</span>lib/util-1.2.jar<span class="tag">&lt;/<span class="name">JAR</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">JAR</span>&gt;</span>lib/uadb.trext-1.2.jar<span class="tag">&lt;/<span class="name">JAR</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">CREOLE</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">RESOURCE</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">NAME</span>&gt;</span>GeocodingProcesser<span class="tag">&lt;/<span class="name">NAME</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">COMMENT</span>&gt;</span>地址正向解析<span class="tag">&lt;/<span class="name">COMMENT</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">HELPURL</span>&gt;</span>http://gisc.chzu.edu.cn/mysnspace/geocoding<span class="tag">&lt;/<span class="name">HELPURL</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">CLASS</span>&gt;</span>gto.geocoding.processor.GeocodingProcessMain<span class="tag">&lt;/<span class="name">CLASS</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PARAMETER</span> <span class="attr">NAME</span>=<span class="string">"inputASName"</span> <span class="attr">RUNTIME</span>=<span class="string">"true"</span> <span class="attr">DEFAULT</span>=<span class="string">"GTO"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">COMMENT</span>=<span class="string">"The annotation set to be used as input for the transducer"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">OPTIONAL</span>=<span class="string">"false"</span>&gt;</span>java.lang.String</span><br><span class="line">      <span class="tag">&lt;/<span class="name">PARAMETER</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PARAMETER</span> <span class="attr">NAME</span>=<span class="string">"outputASName"</span> <span class="attr">RUNTIME</span>=<span class="string">"true"</span> <span class="attr">DEFAULT</span>=<span class="string">"GTO"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">COMMENT</span>=<span class="string">"The annotation set to be used as output for the transducer"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">OPTIONAL</span>=<span class="string">"true"</span>&gt;</span>java.lang.String</span><br><span class="line">      <span class="tag">&lt;/<span class="name">PARAMETER</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PARAMETER</span> <span class="attr">NAME</span>=<span class="string">"geocodingMethod"</span> <span class="attr">RUNTIME</span>=<span class="string">"true"</span> <span class="attr">DEFAULT</span>=<span class="string">"LT"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">COMMENT</span>=<span class="string">"The GeocodingMethodEnum to geocoding"</span> <span class="attr">OPTIONAL</span>=<span class="string">"false"</span>&gt;</span>java.lang.String</span><br><span class="line">      <span class="tag">&lt;/<span class="name">PARAMETER</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">PARAMETER</span> <span class="attr">NAME</span>=<span class="string">"geocodingUrl"</span> <span class="attr">RUNTIME</span>=<span class="string">"true"</span> <span class="attr">DEFAULT</span>=<span class="string">"http://192.168.1.52:8080/uadb.app/rest/v100/dz/geocoding"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">COMMENT</span>=<span class="string">"The geocoding url"</span> <span class="attr">OPTIONAL</span>=<span class="string">"false"</span>&gt;</span>java.lang.String</span><br><span class="line">      <span class="tag">&lt;/<span class="name">PARAMETER</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">RESOURCE</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">CREOLE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">CREOLE-DIRECTORY</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>将插件复制于GATE\plugins根目录内；  </li>
<li>在gate中手动配置PR顺序，执行标注无误后，另存为gapp<br>urlList新增URLHolder</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">gate.util.persistence.PersistenceManager-URLHolder</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">urlString</span>&gt;</span>$relpath$../../../../gto.geocoding/<span class="tag">&lt;/<span class="name">urlString</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">gate.util.persistence.PersistenceManager-URLHolder</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>CollectionPersistence新增PRPersistence  </li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">gate.util.persistence.PRPersistence</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">runtimeParams</span> <span class="attr">class</span>=<span class="string">"gate.util.persistence.MapPersistence"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mapType</span>&gt;</span>gate.util.SimpleFeatureMapImpl<span class="tag">&lt;/<span class="name">mapType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">localMap</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>inputASName<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>GTO<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>outputASName<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>GTO<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>geocodingMethod<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>LT<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>geocodingUrl<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">string</span>&gt;</span>http://192.168.1.52:8080/uadb.app/rest/v100/dz/geocoding<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">localMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">runtimeParams</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resourceType</span>&gt;</span>gto.geocoding.processor.GeocodingProcessMain<span class="tag">&lt;/<span class="name">resourceType</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resourceName</span>&gt;</span>GeocodingProcess<span class="tag">&lt;/<span class="name">resourceName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">initParams</span> <span class="attr">class</span>=<span class="string">"gate.util.persistence.MapPersistence"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mapType</span>&gt;</span>gate.util.SimpleFeatureMapImpl<span class="tag">&lt;/<span class="name">mapType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">localMap</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">initParams</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">features</span> <span class="attr">class</span>=<span class="string">"gate.util.persistence.MapPersistence"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mapType</span>&gt;</span>gate.util.SimpleFeatureMapImpl<span class="tag">&lt;/<span class="name">mapType</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">localMap</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">features</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">gate.util.persistence.PRPersistence</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Jface运行GATE环境路径设置问题"><a href="#Jface运行GATE环境路径设置问题" class="headerlink" title="Jface运行GATE环境路径设置问题"></a>Jface运行GATE环境路径设置问题</h2><p>问题：GATE环境，以Fatjar打包JFace程序，错误日志：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Could not check plugin-mappings.xml</span><br><span class="line">java.net.MalformedURLException: no protocol: plugin-mappings.xml</span><br><span class="line">gate.util.GateException: java.net.MalformedURLException: no protocol: creole.xml      </span><br><span class="line">gate.creole.ResourceInstantiationException:Couldnot get resource data <span class="keyword">for</span> gate.corpora.CorpusImpl.</span><br><span class="line">You may need first to load the plugin that contains your resource.</span><br><span class="line">For example, to create a gate.creole.tokeniser.DefaultTokeniser</span><br><span class="line">you need first to load the ANNIE plugin.</span><br><span class="line">Go to the menu File-&gt;Manage CREOLE plugins or use the method</span><br><span class="line">Gate.getCreoleRegister().registerDirectories(pluginDirectoryURL)</span><br></pre></td></tr></table></figure>
<p>解决：路径问题，单斜杠改成双斜杠</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误</span></span><br><span class="line">System.setProperty(<span class="string">"gate.builtin.ic.dir"</span>, <span class="keyword">new</span> File(gateDir + <span class="string">"/resources/creole"</span>).toURL().toURI().toString());</span><br><span class="line"><span class="comment">//正确</span></span><br><span class="line">String builtinDir = <span class="keyword">new</span> File(gateDir + <span class="string">"\\resources\\creole"</span>).toURI().toURL().toString();</span><br><span class="line">System.setProperty(<span class="string">"gate.builtin.creole.dir"</span>, builtinDir);</span><br></pre></td></tr></table></figure>
<h2 id="gate插件加载错误"><a href="#gate插件加载错误" class="headerlink" title="gate插件加载错误"></a>gate插件加载错误</h2><ul>
<li>错误日志</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gate.creole.ResourceInstantiationException: Could not get resource data <span class="keyword">for</span> gate.creole.gazetteer.DefaultGazetteer.</span><br><span class="line">gate.creole.gazetteer.DefaultGazetteer can be found in the ANNIE plugin</span><br></pre></td></tr></table></figure>
<ul>
<li><p>问题定位：需要在GATE中注册ANNIE插件，初始化后千万别忘得了！</p>
</li>
<li><p>解决方案：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> initialized = <span class="keyword">false</span>;</span><br><span class="line">String gateDir = System.getProperty(<span class="string">"user.dir"</span>) + <span class="string">"/src/main/resources/gate"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"---startup"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!initialized) &#123;</span><br><span class="line">  <span class="comment">// 初始化GATE环境</span></span><br><span class="line">  gateCommonService.setGateDir(gateDir);</span><br><span class="line">  gateCommonService.initGate();</span><br><span class="line">  <span class="comment">//注册插件</span></span><br><span class="line">  gateCommonService.registerGatePlugins(<span class="keyword">new</span> String[] &#123;<span class="string">"ANNIE"</span>, <span class="string">"Lang_Chinese"</span>&#125;);</span><br><span class="line">  initialized = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerGatePlugins</span><span class="params">(String[] pluginNames)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (String pluginName : pluginNames) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      URL pathUrl = getGatePluginPath(pluginName);</span><br><span class="line">      Gate.getCreoleRegister().registerDirectories(pathUrl);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (GateException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Linux中gate初始化错误"><a href="#Linux中gate初始化错误" class="headerlink" title="Linux中gate初始化错误"></a>Linux中gate初始化错误</h2><ul>
<li>错误日志</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Using file:/uadb/uadb.etl.pre/resources/gate/%<span class="number">5</span>Cresources%<span class="number">5</span>Ccreole/ as built-in CREOLE directory URL</span><br><span class="line"> <span class="number">2015</span>-<span class="number">11</span>-<span class="number">10</span> <span class="number">22</span>:<span class="number">08</span>:<span class="number">26</span>,<span class="number">255</span> [main] [gate.creole.CreoleRegisterImpl] [WARN] - Could not check plugin-mappings.xml</span><br><span class="line"> java.io.FileNotFoundException: /uadb/uadb.etl.pre/resources/gate/\resources\creole/plugin-mappings.xml (No such file or directory)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>问题定位：window下用的\和\符号在linux下和unix下不可用</p>
</li>
<li><p>解决方案：路径符号由\改成//</p>
</li>
</ul>
<h2 id="Spring集成GATE，Fatjar打包后的标注乱码问题"><a href="#Spring集成GATE，Fatjar打包后的标注乱码问题" class="headerlink" title="Spring集成GATE，Fatjar打包后的标注乱码问题"></a>Spring集成GATE，Fatjar打包后的标注乱码问题</h2><ul>
<li>问题描述：main和junit测试标注正常，但fatjar打包后的程序业务标注未生成<br>  应标注：[Number, Token, Lookup, SpaceToken, Split, Sentence, IKAToken, AtomToken, Context, Place, Mapcode, Location, Region,Scale, Entity]<br>  实际标注：[Split, Token, SpaceToken, DEFAULT_TOKEN, Sentence, IKAToken,AtomToken]</li>
<li>问题定位<br>chineseNE子管道配置的标注有问题，多出个DEFAULT_TOKEN，Sentence正常标注，但未生成Number和Lookup标注，</li>
<li>解决方案<br>gate环境用spring集成，程序是调用gapp执行标注piopeline，jape和gazetteer等资源都是外部化的，为什么不行？<br>进行各种测试排除，发现输出日志中错误的都是乱码，断定是读文件的编码问题！！！这种问题，解决过程中纠结的要死，解决了感觉自己绝逼傻透了！<br>想起那首记忆深刻的程序员之诗，<code>手持两把锟斤拷，口中直呼烫烫烫，脚踏千朵屯屯屯，笑看万物锘锘锘</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//错误</span></span><br><span class="line">Document doc = Factory.newDocument(file.toURI().toURL());</span><br><span class="line"><span class="comment">//正确</span></span><br><span class="line">Document doc = Factory.newDocument(file.toURI().toURL(), <span class="string">"UTF-8"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Gazetteer问题"><a href="#Gazetteer问题" class="headerlink" title="Gazetteer问题"></a>Gazetteer问题</h2><ul>
<li>问题描述：Correct format for gazetteer entry features is: <a href="[separator][featureName]=[featureValue]">entry</a>*</li>
<li>解决：gazetteer辞典中不能带有冒号，会识别成<code>list.def</code>然后抛错</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/NLP/" rel="tag"># NLP</a>
              <a href="/tags/GATE/" rel="tag"># GATE</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2015/09/15/Maven%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/" rel="prev" title="Maven使用笔记">
      <i class="fa fa-chevron-left"></i> Maven使用笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2015/09/18/Markdown%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/" rel="next" title="Markdown常用语法">
      Markdown常用语法 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#GATE"><span class="nav-number">1.</span> <span class="nav-text">GATE</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#GATE资源："><span class="nav-number">1.1.</span> <span class="nav-text">GATE资源：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Pipeline"><span class="nav-number">2.</span> <span class="nav-text">Pipeline</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CorpusController"><span class="nav-number">2.1.</span> <span class="nav-text">CorpusController</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RealtimeCorpusController"><span class="nav-number">2.2.</span> <span class="nav-text">RealtimeCorpusController</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SerialAnalyserController"><span class="nav-number">2.3.</span> <span class="nav-text">SerialAnalyserController</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Gazetteer"><span class="nav-number">3.</span> <span class="nav-text">Gazetteer</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Gazetteer生效机制"><span class="nav-number">3.1.</span> <span class="nav-text">Gazetteer生效机制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ANNIE词典库"><span class="nav-number">3.2.</span> <span class="nav-text">ANNIE词典库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GAZE词典库"><span class="nav-number">3.3.</span> <span class="nav-text">GAZE词典库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Onto词典"><span class="nav-number">3.4.</span> <span class="nav-text">Onto词典</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hash词典"><span class="nav-number">3.5.</span> <span class="nav-text">Hash词典</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flexible词典"><span class="nav-number">3.6.</span> <span class="nav-text">Flexible词典</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#词典列表collection"><span class="nav-number">3.7.</span> <span class="nav-text">词典列表collection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OntoRoot词典"><span class="nav-number">3.8.</span> <span class="nav-text">OntoRoot词典</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#大型KB词典"><span class="nav-number">3.9.</span> <span class="nav-text">大型KB词典</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JAPE"><span class="nav-number">4.</span> <span class="nav-text">JAPE</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#grammer-jape"><span class="nav-number">4.1.</span> <span class="nav-text">grammer-jape</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAPE标注类型"><span class="nav-number">4.2.</span> <span class="nav-text">JAPE标注类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tokeniser-Rules"><span class="nav-number">4.3.</span> <span class="nav-text">Tokeniser Rules</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Token-Types"><span class="nav-number">4.4.</span> <span class="nav-text">Token Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAPE优先级控制类型"><span class="nav-number">4.5.</span> <span class="nav-text">JAPE优先级控制类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAPE高亮插件"><span class="nav-number">4.6.</span> <span class="nav-text">JAPE高亮插件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#正则表达式"><span class="nav-number">5.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#relationshioType的定义原理"><span class="nav-number">6.</span> <span class="nav-text">relationshioType的定义原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#GATE在多线程中的配置"><span class="nav-number">7.</span> <span class="nav-text">GATE在多线程中的配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-pooling"><span class="nav-number">7.1.</span> <span class="nav-text">Spring pooling</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#问题记录"><span class="nav-number">8.</span> <span class="nav-text">问题记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#spring集成开发的plugin如何在gate中运行"><span class="nav-number">8.1.</span> <span class="nav-text">spring集成开发的plugin如何在gate中运行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jface运行GATE环境路径设置问题"><span class="nav-number">8.2.</span> <span class="nav-text">Jface运行GATE环境路径设置问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gate插件加载错误"><span class="nav-number">8.3.</span> <span class="nav-text">gate插件加载错误</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux中gate初始化错误"><span class="nav-number">8.4.</span> <span class="nav-text">Linux中gate初始化错误</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring集成GATE，Fatjar打包后的标注乱码问题"><span class="nav-number">8.5.</span> <span class="nav-text">Spring集成GATE，Fatjar打包后的标注乱码问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Gazetteer问题"><span class="nav-number">8.6.</span> <span class="nav-text">Gazetteer问题</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">geosmart</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">199</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">118</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/geosmart" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;geosmart" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">geosmart</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '8a29a27c357a64ed79fd',
      clientSecret: 'fe1b781c49fa9037803f3c4d3e94fbb677abac4d',
      repo        : 'geosmart.github.io',
      owner       : 'geosmart',
      admin       : ['geosmart'],
      id          : '23517cd08408cdd2f2ad555560549c64',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
