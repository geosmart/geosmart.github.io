---
title: 数据库特性总结-数据库基础知识
date: 2017-10-06
tags: [DataBase]
categories: 03数据库
---

@(03数据库)[DataBase]

记录数据库基础常识，列举关系型数据库，文档型数据库，图数据库，数据仓库的特性（优缺点），从数据库的应用场景，读写性能上进行比较，不展开BTree,Hash,LSMTree相关的具体算法，后面另开笔记详述。

- - -
<!-- more --> 
数据库特性总结-数据库基础知识
---

# 数据库索引
索引（Index）是帮助高效获取数据的数据结构。提取句子主干，就可以得到索引的本质：`索引是数据结构`。

数据库查询是数据库的最主要功能之一。
我们都希望查询数据的速度能尽可能的快，因此数据库系统的设计者会从查询算法的角度进行优化。
最基本的查询算法当然是`顺序查找（linear search）`，这种复杂度为`O(n)`的算法在数据量很大时显然是糟糕的，好在计算机科学的发展提供了很多更优秀的查找算法，例如`二分查找（binary search）`、`二叉树查找（binary tree search）`等。
如果稍微分析一下会发现，每种查找算法都只能应用于特定的数据结构之上，
例如二分查找要求被检索数据`有序`，而二叉树查找只能应用于`二叉查找树`上，但是数据本身的组织结构不可能完全满足各种数据结构（例如，理论上不可能同时将两列都按顺序进行组织），
所以，在数据之外，`数据库系统还维护着满足特定查找算法的数据结构`，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查找算法。
这种数据结构，就是索引。

一般来说，索引本身也很大，不可能全部存储在内存中，因此索引往往以索引文件的形式存储的磁盘上。
这样的话，索引查找过程中就要产生磁盘I/O消耗，相对于内存(RAM)存取，磁盘I/O存取的消耗要高几个数量级，所以评价一个数据结构作为索引的优劣最重要的指标就是在查找过程中`磁盘I/O操作次数的渐进复杂度`。
换句话说，`索引的结构组织要尽量减少查找过程中磁盘I/O的存取次数`。

>简单的说，索引就是将文档按照某个（或某些）字段顺序组织起来，以便能根据该字段高效的查询。有了索引，至少能优化如下场景的效率：
1. `查询`，比如查询年龄为18的所有人
2. `更新/删除`，将年龄为18的所有人的信息更新或删除，因为更新或删除时，需要根据条件先查询出所有符合条件的文档，所以本质上还是在优化查询
3. `排序`，将所有人的信息按年龄排序，如果没有索引，需要全表扫描文档，然后再对扫描的结果进行排序

# 存储引擎
## 哈希存储引擎
哈希存储引擎是`哈希表`的持久化实现，支持增、删、改以及随机读取操作，但不支持顺序扫描，对应的存储系统为key-value存储系统。对于key-value的插入以及查询，哈希表的复杂度都是O(1)，明显比树的操作O(n)快,如果不需要有序的遍历数据，哈希表就是your Mr.Right
## B树存储引擎
B树存储引擎是B树（关于B树的由来，数据结构以及应用场景可以看之前一篇博文）的持久化实现，不仅支持单条记录的增、删、读、改操作，还支持顺序扫描（B+树的叶子节点之间的指针），对应的存储系统就是关系数据库（Mysql等）。
## LSM树存储引擎
LSM树（Log-Structured Merge Tree，日志结构的合并树）存储引擎和B树存储引擎一样，同样支持增、删、读、改、顺序扫描操作。而且通过`批量存储技术`规避磁盘随机写入问题。
当然凡事有利有弊，LSM树和B+树相比，LSM树牺牲了部分读性能，用来大幅提高`写性能`。

>`Log-Structured`的思想最早由 Rosenblum和Ousterhout[4]于1992年在研究日志结构的文件系统时提出。他们将整个磁盘就看做是一个日志，在日志中存放永久性数据及其索引，每次都添加到日志的末尾；通过将很多小文件的存取转换为连续的大批量传输，使得对于文件系统的大多数存取都是顺序性的，从而提高磁盘带宽利用率，故障恢复速度快。
> O'Neil[3]等人受到这种思想的启发，借鉴了Log不断追加（而不是修改）的特点，结合B-tree的数据结构，提出了一种`延迟更新`，批量写入硬盘的数据结构LSM-tree及其算法。LSM-tree努力地在读和写两方面寻找一个平衡点以最小化系统的存取性能的开销，特别适用于会产生`大量插入`操作的应用环境。
#  
[ ] 图数据库（Neo4j）

[ ] 数据仓库（Hive）

[ ] 列数据库（Cassandra、Hbase）

[ ] 键值数据库（Redis）

[ ] 全文索引（ElasticSearch）


# 参考
[enter link description here](http://blog.csdn.net/voidccc/article/details/40077329)
[日志结构的合并树 The Log-Structured Merge-Tree](http://www.cnblogs.com/siegfang/archive/2013/01/12/lsm-tree.html)
[B Tree可视化](https://www.cs.usfca.edu/~galles/visualization/BTree.html)
[B+ Tree可视化](https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html)