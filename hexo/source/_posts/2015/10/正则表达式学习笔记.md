title: 正则表达式学习笔记
date: 2015-10-03 16:59:33
tags: [RegEx,NLP]
categories: [大数据]
---

记录常用正则以及相关测试工具

#	关于正则表达式
正则表达式（Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。  
许多程序设计语言都支持利用正则表达式进行字符串操作。例如，在Perl中就内建了一个功能强大的正则表达式引擎。正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。正则表达式通常缩写成“regex”，单数有regexp、regex，复数有regexps、regexes、regexen。

- - -
<!-- more -->

#	常用正则
在编写处理字符串的程序或网页时，经常会有查找符合某些复杂规则的字符串的需要。正则表达式就是用于描述这些规则的工具。换句话说，正则表达式就是记录文本规则的代码。

## 元字符
|	代码	|	说明				|
|	---		|	---					|
|.	|	匹配除换行符以外的任意字符|
|\w	|	匹配字母或数字或下划线或汉字|
|\s	|	匹配任意的空白符|
|\d	|	匹配数字|
|\b	|	匹配单词的开始或结束|
|^	|	匹配字符串的开始|
|$	|	匹配字符串的结束|

示例
* 1号10号：`^[0-9]+号[0-9]+号?$`
* TAB+TAB关键词+TAB与TAA分隔符+TAA+TAA关键词，除TAB其余都可为空,如1号-10号：  
`^[0-9０-９零一二三四五六七八九十壹贰叁肆伍陆柒捌玖拾]+[号]?([-])?([0-9０-９零一二三四五六七八九十壹贰叁肆伍陆柒捌玖拾]+)?[号]?$`

## 转义字符
如果你想查找元字符本身的话，比如你查找\.或\，就出现了问题：你没办法指定它们，因为它们会被解释成别的意思。这时你就得使用\\来取消这些字符的特殊意义。因此，你应该使用\\.和\\*，要查找\本身，你也得用\\.

|	代码	|	说明				|
|	---		|	---					|
|.			|	\\.	|
|*			|	\\*	|
|\			|	\\\	|

## 重复
|	代码	|	说明				|
|	---		|	---					|
|	*			|	重复零次或更多次|
|	+			|	重复一次或更多次|
|	?			|	重复零次或一次|
|	{n}		|	重复n次|
|	{n,}	|	重复n次或更多次|
|	{n,m}	|	重复n到m次|

## 字符类
要想查找数字，字母或数字，空白是很简单的，因为已经有了对应这些字符集合的元字符，但是如果你想匹配没有预定义元字符的字符集合(比如元音字母a,e,i,o,u),应该怎么办？
指定一个字符范围，像[0-9]代表的含意与\d就是完全一致的：一位数字；同理[a-z0-9A-Z_]也完全等同于\w（如果只考虑英文的话）。

## 分支条件
正则表达式里的分枝条件指的是有几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用 | 把不同的规则分隔开。

## 分组
可以用小括号来指定子表达式(也叫做分组)
如IP格式：：`(\d{1,3}\.){3}\d{1,3}`是一个简单的IP地址匹配表达式：\d{1,3}匹配1到3位的数字，(\d{1,3}\.){3}匹配三位数字加上一个英文句号(这个整体也就是这个分组)重复3次，最后再加上一个一到三位的数字(\d{1,3})。

IP地址中每个数字都不能大于255.但是正则表达式中并不提供关于数学的任何功能，所以只能使用冗长的分组，选择，字符类来描述一个正确的IP地址：`((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)`

## 反义
有时需要查找不属于某个能简单定义的字符类的字符。比如想查找除了数字以外，其它任意字符都行的情况，这时需要用到反义,
常用的反义代码  

|	代码			|	说明				|
|	---				|	---					|
|	\w				|	匹配任意不是字母，数字，下划线，汉字的字符|
|	\S				|	匹配任意不是空白符的字符|
|	\D				|	匹配任意非数字的字符|
|	\B				|	匹配不是单词开头或结束的位置|
|	[^x]			|	匹配除了x以外的任意字符|
|	[^aeiou]	|	匹配除了aeiou这几个字母以外的任意字符|

例子：`\S+`匹配不包含空白符的字符串；`<a[^>]+>`匹配用尖括号括起来的以a开头的字符串。

##	后向引用

##	零宽断言

##	负向零宽断言

##	注释

##	贪婪与懒惰

##	处理选项

## 平衡组/递归匹配




#	测试工具
[regex在线测试](http://www.regexr.com/) 这个专业！
[oschina regex在线测试](http://tool.oschina.net/regex//) 国内的还是不太靠谱！

#	相关阅读
本文笔记内容参考[正则表达式30分钟入门教程](http://deerchao.net/tutorials/regex/regex.htm)
